# ClearScan: Архитектура проекта

## Компоненты

1. **Scanner (core)**
   - Периодически запускает `nmap` на указанные подсети
   - Парсит вывод и сохраняет его в SQLite
   - Вызывает модуль Diff для сравнения с предыдущими результатами

2. **Diff Engine**
   - Сравнивает текущие результаты скана с предыдущими
   - Выявляет изменения (открытые/закрытые порты, новые хосты)

3. **Alert System**
   - Отправляет уведомления через Telegram-бота при обнаружении изменений

4. **Dashboard (Flask)**
   - Показывает историю сканов, изменения, текущие статусы
   - Авторизация (admin / пароль)
   - Простой UI на Flask+Jinja2

5. **Storage (SQLite)**
   - Хранит таблицы:
     - `scans` — результаты по хостам/портам
     - `changes` — дельты
     - `logins` — пользователи

## Потоки данных

```text
subnet -> [Scanner] -> [Diff] -> [DB]
                                ↓
                           [Telegram Bot]
                                ↓
                          [Dashboard View]
